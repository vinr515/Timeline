<html>
	<head>
		<title id="pageTitle">{{ titleWord[0] }}</title>
		<link rel="stylesheet" type="text/css" href="../static/css/resultstyle.css">
		<script Language="Javascript">
			function showTitle(tag){
				var num = tag.id.slice(5,);
				var personNum = tag.offsetParent.id.slice(6,);
				var idValue = "text" + num;
				var textHold = document.getElementById(idValue);
				var showId = "showText" + personNum;
				document.getElementById(showId).innerHTML = textHold.innerHTML;
				
				var dateId = "dateRows" + num;
				resetDates(dateId);
			}
			function resetDates(idVal){
				var i = 1;
				var flag = true;
				while(flag){
					if(document.getElementById("dateRows"+i) == null){
						flag = false;
					}else{
						document.getElementById("dateRows"+i).hidden = true;
					}
					i += 1;
				}
				document.getElementById(idVal).hidden = false;
			}
			function showDate(tag){
				alert(5);
			}
		</script>
	</head>
	
	<body>
	{% for i in range(names|length) %}
		<div>
			<h1><strong>{{ names[i] }}</strong></h1>
			{% if lifeDates[i][1] == 2020 %}
				<p>{{ lifeDates[i][0] }} - Present</p>
			{% else %}
				<p>{{ lifeDates[i][0] }} - {{ lifeDates[i][1] }}</p>
			{% endif %}
			{% set linkName = "Link to " ~ names[i] ~ "'s Wikipedia Page" %}
			<a href={{ links[i] }}>{{ linkName }}</a>
			
			{% set tableId = "person" ~ (i+1) %}
			<table id={{ tableId }}>
				<tr>
				{% for j in range(titles[i]|length) %}
					{% set idString = "title" ~ onClickVars[i][j][1] %}
					<td onClick="showTitle(this);" class="holder" id={{ idString }} width={{ titles[i][j][1] }}></td>
				{% endfor %}
				</tr>
				<tr>
					{% set idString = "showText" ~ (i+1) %}
					<td colspan={{ titles[i]|length }} width="100%" id={{ idString }}>Click on a bar</td>
				</tr>
				<tr>
				{% for j in range(titles[i]|length) %}
					{% set idString = "text" ~ onClickVars[i][j][1] %}
					<td hidden class="special" width="100%" id={{ idString }}>{{ titles[i][j][0] }}</td>
				{% endfor %}
				</tr>
			</table>
			<table>
				{% for j in range(8) %}
					{% set idString = "dateRows" ~ (j+1) %}
					<tr hidden id={{ idString }}>
						{% for k in range(10) %}
						{% set idString = "date" ~ j*k %}
						<td onClick="showDate(this);" class="holder" id={{ idString }} width="10%"></td>
						{% endfor %}
					</tr>
				{% endfor %}
			</table>
		</div>
	{% endfor %}
	
	</body>
</html>